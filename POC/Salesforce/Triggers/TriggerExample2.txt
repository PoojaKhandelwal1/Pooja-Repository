trigger FeedCommentTrigger1 on FeedComment (before insert, after insert, before update, after update) {
    
    if(Trigger.isBefore) {
        Map<Integer, Case> caseObjMap = new Map<Integer, Case>();
        Integer flag = 0;
        //to fetch parent case record for feed comment
        for(FeedComment obj: Trigger.new) {
            Case c = [select Id, CaseNumber, Status from Case where Id = :obj.ParentId];
            
        }  
        
        //to fetch all child feed items for a particular case
        List<CaseFeed> feedItemsList = new List<CaseFeed>();
        feedItemsList = [select Body from CaseFeed where ParentId = :c.Id]; 
        System.assertEquals(feedItemsList.size(), 3);
        System.assertEquals(c.CaseNumber, '00001002');
        
        for(CaseFeed feedItemObj : feedItemsList)    {
           // System.assertEquals(feedItemObj.Body, '<p>This feed item is generated by mail</p>');
            //System.assertEquals(c.Status, 'Closed');
            if(feedItemObj.Body.contains('This feed item is generated by mail'))    {
                flag = 1;
                System.assertEquals(flag , 1);
                break;
            } 
         }
         if(flag == 1 && c.Status.contains('New'))    {
            c.Status = 'Working';
            update c;
           /// Case c1 = [select CaseNumber from Case where Id = :c.Id];
            //System.assertEquals(c1.CaseNumber, '00001000');     
            //obj.addError('parent case status changed');  
         }
         
    }  
}